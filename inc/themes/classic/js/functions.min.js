var $jscomp={scope:{},findInternal:function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,g=0;g<d;g++){var k=a[g];if(b.call(c,k,g,a))return{i:g,v:k}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var g=a[d];g in c||(c[g]={});c=c[g]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");
sysPass.Util.Theme=function(){var a=sysPass.Util.Common,b=a.passwordData,c=a.LANG,d=function(){null!==document.getElementById("wrap-loading")?($("#wrap-loading").show(),$("#loading").addClass("is-active")):$.fancybox.showLoading()},g=function(){null!==document.getElementById("wrap-loading")?($("#wrap-loading").hide(),$("#loading").removeClass("is-active")):$.fancybox.hideLoading()},k=function(){$(".active-tooltip").tooltip({content:function(){return $(this).attr("title")},tooltipClass:"tooltip"});
$(".help-tooltip").tooltip({content:function(){return $(this).next("div").html()},tooltipClass:"tooltip"})},m=function(h,l,e,d){l=0;h="";for(var f;l<b.complexity.numlength;){f=Math.floor(100*Math.random())%94+33;if(!b.complexity.symbols){if(33<=f&&47>=f)continue;if(58<=f&&64>=f)continue;if(91<=f&&96>=f)continue;if(123<=f&&126>=f)continue}!b.complexity.numbers&&48<=f&&57>=f||!b.complexity.uppercase&&65<=f&&90>=f||(l++,h+=String.fromCharCode(f))}!0===e?$("#viewPass").attr("title",h):alertify.alert('<div id="alert"><p id="alert-text">'+
c[6]+'</p><p id="alert-pass"> '+h+"</p>");e=zxcvbn(h);b.passLength=h.length;d?(a.outputResult(e.score,d),$("#"+d).val(h),$("#"+d+"R").val(h),sysPassUtil.Common.encryptFormValue("#"+d+"R")):(a.outputResult(e.score,d),$("input:password, input.password").val(h),$("#passLevel").show(500))},n=function(){$('<div id="dialog-complexity"></div>').dialog({modal:!0,title:c[29],width:"450px",open:function(){var a=$(this);a.html('<div class="dialog-btns-complexity"><label for="checkbox-numbers">'+c[35]+'</label><input type="checkbox" id="checkbox-numbers" name="checkbox-numbers"/><label for="checkbox-uppercase">'+
c[36]+'</label><input type="checkbox" id="checkbox-uppercase" name="checkbox-uppercase"/><label for="checkbox-symbols">'+c[37]+'</label><input type="checkbox" id="checkbox-symbols" name="checkbox-symbols"/></div><div class="dialog-length-complexity"><label for="passlength">'+c[38]+'</label><input class="inputNumber" pattern="[0-9]*" id="passlength" /></div><div class="dialog-buttons"><button class="btnDialogOk">Ok</button></div>');a.dialog("option","position","center");a.ready(function(){$("#checkbox-numbers").prop("checked",
b.complexity.numbers);$("#checkbox-uppercase").prop("checked",b.complexity.uppercase);$("#checkbox-symbols").prop("checked",b.complexity.symbols);$("#passlength").val(b.complexity.numlength);$(".dialog-btns-complexity").buttonset({icons:{primary:"ui-icon-transferthick-e-w"}});$(".inputNumber").spinner();$(".btnDialogOk").button().click(function(){b.complexity.numbers=$(" #checkbox-numbers").is(":checked");b.complexity.uppercase=$("#checkbox-uppercase").is(":checked");b.complexity.symbols=$("#checkbox-symbols").is(":checked");
b.complexity.numlength=parseInt($("#passlength").val());a.dialog("close")})})},close:function(){$(this).dialog("destroy")}})};return{showLoading:d,hideLoading:g,activeTooltip:k,passwordDetect:function(){$(".passwordfield__input").each(function(){var b=$(this),d=$(this).attr("id");if(!b.next().hasClass("password-actions")){var e='<div><button type="button" class="quickGenPass" data-targetid="'+d+'">'+c[28]+"</button>",e=e+('<button type="button" class="genPassActions">'+c[27]+"</button></div>"),e=
e+"<ul>"+('<li data-targetid="'+d+'" class="passGen">'+c[28]+"</li>"),e=e+('<li data-targetid="'+d+'" class="passComplexity">'+c[29]+"</li>"),e=e+('<li data-targetid="'+d+'" class="reset">'+c[30]+"</li>"),e=e+"</ul>";b.after('<div class="password-actions" />');b.next(".password-actions").prepend(e).prepend('<img class="showpass inputImg" src="imgs/show.png" title="'+c[32]+'" data-targetid="'+d+'" />').prepend('<span class="passLevel passLevel-'+d+' fullround" title="'+c[31]+'"></span>');$(".quickGenPass").button({text:!1,
icons:{primary:"ui-icon-gear"}}).click(function(){m(11,!0,!0,d)}).next().button({text:!1,icons:{primary:"ui-icon-key"}}).click(function(){var a=$(this).parent().next().show().position({my:"left top",at:"left bottom",of:this});$(document).one("click",function(){a.hide()});return!1}).parent().buttonset().next().hide().menu();$(this).on("keyup",function(){a.checkPassLevel($(this).val(),d)})}});$(".passwordfield__input-show").each(function(){var a=$(this),b=$(this).attr("id");a.after('<img class="showpass inputImg" src="imgs/show.png" title="'+
c[32]+'" data-targetid="'+b+'" />')});$(".passGen").each(function(){$(this).on("click",function(){var a=$(this).data("targetid");m(11,!0,!0,a);$("#"+a).focus()})});$(".passComplexity").each(function(){$(this).on("click",function(){n()})});$(".showpass").each(function(){$(this).on("mouseover",function(){var a=$(this).data("targetid");$(this).attr("title",$("#"+a).val())})});$(".reset").each(function(){$(this).on("click",function(){var a=$(this).data("targetid");$("#"+a).val("");$("#"+a+"R").val("")})})},
password:m,init:function(){jQuery.extend(jQuery.fancybox.defaults,{type:"ajax",autoWidth:!0,autoHeight:!0,autoResize:!0,autoCenter:!0,fitToView:!1,minHeight:50,padding:0,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.1)"}}},keys:{close:[27]},afterShow:function(){$("#fancyContainer").find("input:visible:first").focus()}});jQuery.ajaxSetup({beforeSend:function(){d()},complete:function(){g();a.setContentSize();k()}});$(document).ready(function(){a.setContentSize();k()})},Common:a}}(jQuery);
var sysPassUtil=sysPass.Util.Theme;sysPassUtil.init();
